{"ast":null,"code":"import { EventEmitter, SimpleChanges } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { hasError } from '../../../utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/validate-phone-number.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction FormComponent_small_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer votre nom\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer votre pr\\u00E9nom\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer votre nom de facebook\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer votre num\\u00E9ro de t\\u00E9l\\u00E9phone\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer un num\\u00E9ro de t\\u00E9l\\u00E9phone valide\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer votre num\\u00E9ro de t\\u00E9l\\u00E9phone whatsapp\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer un num\\u00E9ro de t\\u00E9l\\u00E9phone valide\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer votre ville de r\\u00E9sidence\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez choisir le canal de participation\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormComponent_small_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 23);\n    i0.ɵɵtext(1, \"Veuillez entrer votre intention...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"border-rose-600\": a0\n  };\n};\n\nconst _c1 = function (a0, a1) {\n  return {\n    \"bg-slate-200\": a0,\n    \"bg-violet-700\": a1\n  };\n};\n\nexport class FormComponent {\n  constructor(validatePhoneNumberService) {\n    this.validatePhoneNumberService = validatePhoneNumberService;\n    this.onsubmit = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this.initForm();\n  }\n\n  ngOnChanges(changes) {\n    if (changes['registerResponse'] && changes['registerResponse'].currentValue) {\n      if (this.registerResponse.status === 'success') this.form.reset();\n    }\n  }\n\n  initForm() {\n    this.form = new FormGroup({\n      name: new FormControl('', {\n        validators: Validators.required\n      }),\n      firstName: new FormControl('', {\n        validators: Validators.required\n      }),\n      fbName: new FormControl('', {\n        validators: Validators.required\n      }),\n      phoneNumber: new FormControl('', {\n        updateOn: 'blur',\n        validators: Validators.required //asyncValidators: PhoneValidator.createValidator(this.validatePhoneNumberService)\n\n      }),\n      whaPhoneNumber: new FormControl('', {\n        updateOn: 'blur',\n        validators: Validators.required //asyncValidators: PhoneValidator.createValidator(this.validatePhoneNumberService)\n\n      }),\n      city: new FormControl('', {\n        validators: Validators.required\n      }),\n      intention: new FormControl('', {\n        validators: Validators.required\n      }),\n      participation: new FormControl('', {\n        validators: Validators.required\n      })\n    });\n  }\n\n  onSubmit() {\n    this.onsubmit.emit(this.form.value);\n  }\n\n  getError(controlName, errorKey) {\n    return hasError(this.form, controlName, errorKey);\n  }\n\n}\n\nFormComponent.ɵfac = function FormComponent_Factory(t) {\n  return new (t || FormComponent)(i0.ɵɵdirectiveInject(i1.ValidatePhoneNumberService));\n};\n\nFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormComponent,\n  selectors: [[\"app-form\"]],\n  inputs: {\n    registerResponse: \"registerResponse\"\n  },\n  outputs: {\n    onsubmit: \"onsubmit\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 60,\n  vars: 40,\n  consts: [[1, \"w-full\"], [3, \"formGroup\"], [1, \"space-y-2\", \"mb-2\"], [1, \"text-lg\", \"font-bold\", \"text-violet-800\"], [1, \"text-sm\", \"font-normal\", \"text-violet-600\"], [1, \"space-y-4\"], [1, \"flex\", \"flex-col\"], [1, \"text-sm\", \"text-slate-500\", \"font-normal\"], [\"type\", \"text\", \"placeholder\", \"Veuillez entrer votre nom\", \"formControlName\", \"name\", 1, \"form-input\", \"rounded-md\", 3, \"ngClass\"], [\"class\", \"text-rose-600\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"Veullez entrez votre pr\\u00E9nom(s)\", \"formControlName\", \"firstName\", 1, \"form-input\", \"rounded-md\", 3, \"ngClass\"], [\"type\", \"text\", \"placeholder\", \"Veullez entrez votre nom de facebook\", \"formControlName\", \"fbName\", 1, \"form-input\", \"rounded-md\", 3, \"ngClass\"], [\"type\", \"text\", \"placeholder\", \"Ex: 2250707070707\", \"formControlName\", \"phoneNumber\", 1, \"form-input\", \"rounded-md\", 3, \"ngClass\"], [\"type\", \"text\", \"placeholder\", \"Ex: 2250707070707\", \"formControlName\", \"whaPhoneNumber\", 1, \"form-input\", \"rounded-md\", 3, \"ngClass\"], [\"type\", \"text\", \"placeholder\", \"Veuillez entrer votre ville de r\\u00E9sidence\", \"formControlName\", \"city\", 1, \"form-input\", \"rounded-md\", 3, \"ngClass\"], [\"formControlName\", \"participation\", 1, \"form-select\", \"rounded-md\", 3, \"ngClass\"], [\"value\", \"\"], [\"value\", \"SANDPIT\"], [\"value\", \"ONLINE\"], [\"rows\", \"4\", \"placeholder\", \"Entrez votre intention...\", \"formControlName\", \"intention\", 1, \"rounded-md\", 3, \"ngClass\"], [1, \"text-center\"], [1, \"p-3\", \"text-white\", \"md:w-3/6\", \"w-full\", \"rounded-full\", 3, \"disabled\", \"ngClass\", \"click\"], [\"sbbtn\", \"\"], [1, \"text-rose-600\"]],\n  template: function FormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n      i0.ɵɵtext(4, \"Formulaire d'inscription\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"h5\", 4);\n      i0.ɵɵtext(6, \"Veuillez remplir tous les champs pour proc\\u00E9der \\u00E0 votre inscription \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"label\", 7);\n      i0.ɵɵtext(10, \"Nom *\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 8);\n      i0.ɵɵtemplate(12, FormComponent_small_12_Template, 2, 0, \"small\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6)(14, \"label\", 7);\n      i0.ɵɵtext(15, \"Pr\\u00E9noms *\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 10);\n      i0.ɵɵtemplate(17, FormComponent_small_17_Template, 2, 0, \"small\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 6)(19, \"label\", 7);\n      i0.ɵɵtext(20, \"Nom de facebook *\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 11);\n      i0.ɵɵtemplate(22, FormComponent_small_22_Template, 2, 0, \"small\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 6)(24, \"label\", 7);\n      i0.ɵɵtext(25, \"Num\\u00E9ro de t\\u00E9l\\u00E9phone *\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 12);\n      i0.ɵɵtemplate(27, FormComponent_small_27_Template, 2, 0, \"small\", 9);\n      i0.ɵɵtemplate(28, FormComponent_small_28_Template, 2, 0, \"small\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 6)(30, \"label\", 7);\n      i0.ɵɵtext(31, \"Num\\u00E9ro de t\\u00E9l\\u00E9phone whatsapp *\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"input\", 13);\n      i0.ɵɵtemplate(33, FormComponent_small_33_Template, 2, 0, \"small\", 9);\n      i0.ɵɵtemplate(34, FormComponent_small_34_Template, 2, 0, \"small\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 6)(36, \"label\", 7);\n      i0.ɵɵtext(37, \"Ville de r\\u00E9sidence *\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(38, \"input\", 14);\n      i0.ɵɵtemplate(39, FormComponent_small_39_Template, 2, 0, \"small\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 6)(41, \"label\", 7);\n      i0.ɵɵtext(42, \"Participation *\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"select\", 15)(44, \"option\", 16);\n      i0.ɵɵtext(45, \"S\\u00E9lectionnez le canal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"option\", 17);\n      i0.ɵɵtext(47, \"Sabli\\u00E8re\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"option\", 18);\n      i0.ɵɵtext(49, \"En ligne\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(50, FormComponent_small_50_Template, 2, 0, \"small\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"div\", 6)(52, \"label\", 7);\n      i0.ɵɵtext(53, \"Intention *\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(54, \"textarea\", 19);\n      i0.ɵɵtemplate(55, FormComponent_small_55_Template, 2, 0, \"small\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"div\", 20)(57, \"button\", 21, 22);\n      i0.ɵɵlistener(\"click\", function FormComponent_Template_button_click_57_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtext(59, \"Je m'inscris\");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      const _r10 = i0.ɵɵreference(58);\n\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(21, _c0, ctx.getError(\"name\", \"required\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"name\", \"required\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(23, _c0, ctx.getError(\"firstName\", \"required\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"firstName\", \"required\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(25, _c0, ctx.getError(\"fbName\", \"required\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"fbName\", \"required\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(27, _c0, ctx.getError(\"phoneNumber\", \"required\") || ctx.getError(\"phoneNumber\", \"invalidPhoneNumber\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"phoneNumber\", \"required\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"phoneNumber\", \"invalidPhoneNumber\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(29, _c0, ctx.getError(\"whaPhoneNumber\", \"required\") || ctx.getError(\"whaPhoneNumber\", \"invalidPhoneNumber\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"whaPhoneNumber\", \"required\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"whaPhoneNumber\", \"invalidPhoneNumber\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(31, _c0, ctx.getError(\"city\", \"required\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"city\", \"required\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(33, _c0, ctx.getError(\"participation\", \"required\")));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"participation\", \"required\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(35, _c0, ctx.getError(\"intention\", \"required\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(\"intention\", \"required\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.form.invalid)(\"ngClass\", i0.ɵɵpureFunction2(37, _c1, _r10.disabled, !_r10.disabled));\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmb3JtLmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAApB,EAAoEC,aAApE,QAAyF,eAAzF;AACA,SAAUC,WAAV,EAAuBC,SAAvB,EAAkCC,UAAlC,QAAoD,gBAApD;AAEA,SAAyBC,QAAzB,QAAyC,gBAAzC;;;;;;;;ICUQC;IAAkEA;IAAyBA;;;;;;IAO3FA;IAAuEA;IAA4BA;;;;;;IAOnGA;IAAoEA;IAC1DA;;;;;;IAOVA;IAAyEA;IAC9DA;;;;;;IACXA;IAAmFA;IACjEA;;;;;;IAOlBA;IAA4EA;IACxDA;;;;;;IACpBA;IAAsFA;IAEpEA;;;;;;IAOlBA;IAAkEA;IACvDA;;;;;;IAUXA;IAA2EA;IAC5DA;;;;;;IAMfA;IAAuEA;IACzDA;;;;;;;;;;;;;;;;;ADhEtB,OAAM,MAAOC,aAAP,CAAoB;EAMxBC,YAAoBC,0BAApB,EAA0E;IAAtD;IAFV,gBAAW,IAAIT,YAAJ,EAAX;EAEqE;;EAE/EU,QAAQ;IACN,KAAKC,QAAL;EACD;;EAEDC,WAAW,CAACC,OAAD,EAAuB;IAChC,IAAGA,OAAO,CAAC,kBAAD,CAAP,IAA+BA,OAAO,CAAC,kBAAD,CAAP,CAA4BC,YAA9D,EAA4E;MAC1E,IAAG,KAAKC,gBAAL,CAAsBC,MAAtB,KAAiC,SAApC,EAA+C,KAAKC,IAAL,CAAUC,KAAV;IAChD;EACF;;EAEDP,QAAQ;IACN,KAAKM,IAAL,GAAY,IAAId,SAAJ,CAAc;MACxBgB,IAAI,EAAE,IAAIjB,WAAJ,CAAgB,EAAhB,EAAoB;QACxBkB,UAAU,EAAEhB,UAAU,CAACiB;MADC,CAApB,CADkB;MAIxBC,SAAS,EAAE,IAAIpB,WAAJ,CAAgB,EAAhB,EAAoB;QAC7BkB,UAAU,EAAEhB,UAAU,CAACiB;MADM,CAApB,CAJa;MAOxBE,MAAM,EAAE,IAAIrB,WAAJ,CAAgB,EAAhB,EAAoB;QAC1BkB,UAAU,EAAEhB,UAAU,CAACiB;MADG,CAApB,CAPgB;MAUxBG,WAAW,EAAE,IAAItB,WAAJ,CAAgB,EAAhB,EAAoB;QAC/BuB,QAAQ,EAAE,MADqB;QAE/BL,UAAU,EAAEhB,UAAU,CAACiB,QAFQ,CAG/B;;MAH+B,CAApB,CAVW;MAexBK,cAAc,EAAE,IAAIxB,WAAJ,CAAgB,EAAhB,EAAoB;QAClCuB,QAAQ,EAAE,MADwB;QAElCL,UAAU,EAAEhB,UAAU,CAACiB,QAFW,CAGlC;;MAHkC,CAApB,CAfQ;MAoBxBM,IAAI,EAAE,IAAIzB,WAAJ,CAAgB,EAAhB,EAAoB;QACxBkB,UAAU,EAAEhB,UAAU,CAACiB;MADC,CAApB,CApBkB;MAuBxBO,SAAS,EAAE,IAAI1B,WAAJ,CAAgB,EAAhB,EAAoB;QAC7BkB,UAAU,EAAEhB,UAAU,CAACiB;MADM,CAApB,CAvBa;MA0BxBQ,aAAa,EAAE,IAAI3B,WAAJ,CAAgB,EAAhB,EAAoB;QACjCkB,UAAU,EAAEhB,UAAU,CAACiB;MADU,CAApB;IA1BS,CAAd,CAAZ;EA8BD;;EAEDS,QAAQ;IACN,KAAKC,QAAL,CAAcC,IAAd,CAAmB,KAAKf,IAAL,CAAUgB,KAA7B;EACD;;EAEDC,QAAQ,CAACC,WAAD,EAAsBC,QAAtB,EAAsC;IAC5C,OAAO/B,QAAQ,CAAC,KAAKY,IAAN,EAAYkB,WAAZ,EAAyBC,QAAzB,CAAf;EACD;;AAzDuB;;;mBAAb7B,eAAaD;AAAA;;;QAAbC;EAAa8B;EAAAC;IAAAvB;EAAA;EAAAwB;IAAAR;EAAA;EAAAS;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX1BtC,+BAAoB,CAApB,EAAoB,MAApB,EAAoB,CAApB,EAAoB,CAApB,EAAoB,KAApB,EAAoB,CAApB,EAAoB,CAApB,EAAoB,IAApB,EAAoB,CAApB;MAGoDA;MAAwBA;MACtEA;MAAgDA;MAChDA;MAEFA,+BAAuB,CAAvB,EAAuB,KAAvB,EAAuB,CAAvB,EAAuB,CAAvB,EAAuB,OAAvB,EAAuB,CAAvB;MAEsDA;MAAKA;MACvDA;MAGAA;MACFA;MACAA,gCAA2B,EAA3B,EAA2B,OAA3B,EAA2B,CAA3B;MACoDA;MAASA;MAC3DA;MAGAA;MACFA;MACAA,gCAA2B,EAA3B,EAA2B,OAA3B,EAA2B,CAA3B;MACoDA;MAAiBA;MACnEA;MAGAA;MAEFA;MACAA,gCAA2B,EAA3B,EAA2B,OAA3B,EAA2B,CAA3B;MACoDA;MAAqBA;MACvEA;MAGAA;MAEAA;MAEFA;MACAA,gCAA2B,EAA3B,EAA2B,OAA3B,EAA2B,CAA3B;MACoDA;MAA8BA;MAChFA;MAGAA;MAEAA;MAGFA;MACAA,gCAA2B,EAA3B,EAA2B,OAA3B,EAA2B,CAA3B;MACoDA;MAAoBA;MACtEA;MAGAA;MAEFA;MACAA,gCAA2B,EAA3B,EAA2B,OAA3B,EAA2B,CAA3B;MACoDA;MAAeA;MACjEA,oCACiE,EADjE,EACiE,QADjE,EACiE,EADjE;MAEmBA;MAAqBA;MACtCA;MAAwBA;MAAQA;MAChCA;MAAuBA;MAAQA;MAEjCA;MAEFA;MACAA,gCAA2B,EAA3B,EAA2B,OAA3B,EAA2B,CAA3B;MACoDA;MAAWA;MAC7DA;MAEAA;MAGFA;MACAA,iCAAyB,EAAzB,EAAyB,QAAzB,EAAyB,EAAzB,EAAyB,EAAzB;MACiBA;QAAA,OAASuC,cAAT;MAAmB,CAAnB;MAGwCvC;MAAYA;;;;;;MAjFnEA;MAAAA;MAUEA;MAAAA;MAE4BA;MAAAA;MAK5BA;MAAAA;MAE4BA;MAAAA;MAK5BA;MAAAA;MAE4BA;MAAAA;MAM5BA;MAAAA;MAE4BA;MAAAA;MAEAA;MAAAA;MAM5BA;MAAAA;MAE4BA;MAAAA;MAEAA;MAAAA;MAO5BA;MAAAA;MAE4BA;MAAAA;MAKtBA;MAAAA;MAMsBA;MAAAA;MAKXA;MAAAA;MAEWA;MAAAA;MAKMA;MAAAA,4CAAyB,SAAzB,EAAyBA,0DAAzB","names":["EventEmitter","SimpleChanges","FormControl","FormGroup","Validators","hasError","i0","FormComponent","constructor","validatePhoneNumberService","ngOnInit","initForm","ngOnChanges","changes","currentValue","registerResponse","status","form","reset","name","validators","required","firstName","fbName","phoneNumber","updateOn","whaPhoneNumber","city","intention","participation","onSubmit","onsubmit","emit","value","getError","controlName","errorKey","selectors","inputs","outputs","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/arolitec/Development/perso/megj/src/app/register/components/form/form.component.ts","/home/arolitec/Development/perso/megj/src/app/register/components/form/form.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport {  FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ValidatePhoneNumberService } from '../../../services/validate-phone-number.service';\nimport { PhoneValidator, hasError } from '../../../utils';\nimport { RegisterFormInput, RegisterResponse } from '../../models';\n\n@Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.scss']\n})\nexport class FormComponent implements OnInit, OnChanges {\n\n  form!: FormGroup\n  @Input() registerResponse!: RegisterResponse\n  @Output() onsubmit = new EventEmitter<RegisterFormInput>()\n\n  constructor(private validatePhoneNumberService: ValidatePhoneNumberService) { }\n\n  ngOnInit(): void {\n    this.initForm()\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(changes['registerResponse'] && changes['registerResponse'].currentValue) {\n      if(this.registerResponse.status === 'success') this.form.reset()\n    }\n  }\n\n  initForm() {\n    this.form = new FormGroup({\n      name: new FormControl('', {\n        validators: Validators.required\n      }),\n      firstName: new FormControl('', {\n        validators: Validators.required\n      }),\n      fbName: new FormControl('', {\n        validators: Validators.required\n      }),\n      phoneNumber: new FormControl('', {\n        updateOn: 'blur',\n        validators: Validators.required,\n        //asyncValidators: PhoneValidator.createValidator(this.validatePhoneNumberService)\n      }),\n      whaPhoneNumber: new FormControl('', {\n        updateOn: 'blur',\n        validators: Validators.required,\n        //asyncValidators: PhoneValidator.createValidator(this.validatePhoneNumberService)\n      }),\n      city: new FormControl('', {\n        validators: Validators.required\n      }),\n      intention: new FormControl('', {\n        validators: Validators.required\n      }),\n      participation: new FormControl('', {\n        validators: Validators.required\n      }),\n    })\n  }\n\n  onSubmit() {\n    this.onsubmit.emit(this.form.value)\n  }\n\n  getError(controlName: string, errorKey: string) {\n    return hasError(this.form, controlName, errorKey)\n  }\n}\n","<div class=\"w-full\">\n  <form [formGroup]=\"form\">\n    <div class=\"space-y-2 mb-2\">\n      <h3 class='text-lg font-bold text-violet-800'>Formulaire d'inscription</h3>\n      <h5 class='text-sm font-normal text-violet-600'>Veuillez remplir tous les champs pour procéder à votre inscription\n      </h5>\n    </div>\n    <div class=\"space-y-4\">\n      <div class='flex flex-col'>\n        <label class='text-sm text-slate-500 font-normal'>Nom *</label>\n        <input type=\"text\" placeholder='Veuillez entrer votre nom'\n          [ngClass]=\"{'border-rose-600': getError('name', 'required')}\" class=\"form-input rounded-md\"\n          formControlName='name'>\n        <small class='text-rose-600' *ngIf=\"getError('name', 'required')\">Veuillez entrer votre nom</small>\n      </div>\n      <div class='flex flex-col'>\n        <label class='text-sm text-slate-500 font-normal'>Prénoms *</label>\n        <input type=\"text\" placeholder='Veullez entrez votre prénom(s)'\n          [ngClass]=\"{'border-rose-600': getError('firstName', 'required')}\" class=\"form-input rounded-md\"\n          formControlName='firstName'>\n        <small class='text-rose-600' *ngIf=\"getError('firstName', 'required')\">Veuillez entrer votre prénom</small>\n      </div>\n      <div class='flex flex-col'>\n        <label class='text-sm text-slate-500 font-normal'>Nom de facebook *</label>\n        <input type=\"text\" placeholder='Veullez entrez votre nom de facebook'\n          [ngClass]=\"{'border-rose-600': getError('fbName', 'required')}\" class=\"form-input rounded-md\"\n          formControlName='fbName'>\n        <small class='text-rose-600' *ngIf=\"getError('fbName', 'required')\">Veuillez entrer votre nom de\n          facebook</small>\n      </div>\n      <div class='flex flex-col'>\n        <label class='text-sm text-slate-500 font-normal'>Numéro de téléphone *</label>\n        <input type=\"text\" placeholder='Ex: 2250707070707'\n          [ngClass]=\"{'border-rose-600': getError('phoneNumber', 'required') || getError('phoneNumber', 'invalidPhoneNumber')}\"\n          class=\"form-input rounded-md\" formControlName='phoneNumber'>\n        <small class='text-rose-600' *ngIf=\"getError('phoneNumber', 'required')\">Veuillez entrer votre numéro de\n          téléphone</small>\n        <small class='text-rose-600' *ngIf=\"getError('phoneNumber', 'invalidPhoneNumber')\">Veuillez entrer un numéro de\n          téléphone valide</small>\n      </div>\n      <div class='flex flex-col'>\n        <label class='text-sm text-slate-500 font-normal'>Numéro de téléphone whatsapp *</label>\n        <input type=\"text\" placeholder='Ex: 2250707070707'\n          [ngClass]=\"{'border-rose-600': getError('whaPhoneNumber', 'required') ||  getError('whaPhoneNumber', 'invalidPhoneNumber')}\"\n          class=\"form-input rounded-md\" formControlName='whaPhoneNumber'>\n        <small class='text-rose-600' *ngIf=\"getError('whaPhoneNumber', 'required')\">Veuillez entrer votre numéro de\n          téléphone whatsapp</small>\n        <small class='text-rose-600' *ngIf=\"getError('whaPhoneNumber', 'invalidPhoneNumber')\">Veuillez entrer un numéro\n          de\n          téléphone valide</small>\n      </div>\n      <div class='flex flex-col'>\n        <label class='text-sm text-slate-500 font-normal'>Ville de résidence *</label>\n        <input type=\"text\" placeholder=\"Veuillez entrer votre ville de résidence\"\n          [ngClass]=\"{'border-rose-600': getError('city', 'required')}\" class=\"form-input rounded-md\"\n          class=\"form-input rounded-md\" formControlName='city'>\n        <small class='text-rose-600' *ngIf=\"getError('city', 'required')\">Veuillez entrer votre ville de\n          résidence</small>\n      </div>\n      <div class='flex flex-col'>\n        <label class='text-sm text-slate-500 font-normal'>Participation *</label>\n        <select [ngClass]=\"{'border-rose-600': getError('participation', 'required')}\" class=\"form-input rounded-md\"\n          class=\"form-select rounded-md\" formControlName='participation'>\n          <option value=\"\">Sélectionnez le canal</option>\n          <option value=\"SANDPIT\">Sablière</option>\n          <option value=\"ONLINE\">En ligne</option>\n        </select>\n        <small class='text-rose-600' *ngIf=\"getError('participation', 'required')\">Veuillez choisir le canal de\n          participation</small>\n      </div>\n      <div class='flex flex-col'>\n        <label class='text-sm text-slate-500 font-normal'>Intention *</label>\n        <textarea rows=\"4\" [ngClass]=\"{'border-rose-600': getError('intention', 'required')}\" class='rounded-md'\n          placeholder='Entrez votre intention...' formControlName='intention'></textarea>\n        <small class='text-rose-600' *ngIf=\"getError('intention', 'required')\">Veuillez entrer votre\n          intention...</small>\n\n      </div>\n      <div class=\"text-center\">\n        <button #sbbtn (click)=\"onSubmit()\" [disabled]=\"form.invalid\" [ngClass]=\"{\n          'bg-slate-200': sbbtn.disabled,\n          'bg-violet-700': !sbbtn.disabled\n        }\" class='p-3 text-white md:w-3/6 w-full rounded-full'>Je m'inscris</button>\n      </div>\n    </div>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module"}